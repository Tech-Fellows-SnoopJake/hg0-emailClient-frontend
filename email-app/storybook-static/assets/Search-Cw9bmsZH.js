import{r as g,R as m}from"./index-DH5ua8nC.js";import{u as Oe,F as Re,a as Ae,N as fe,g as ve,b as Fe,S as Ie}from"./col-DidA2-JF.js";import{q as y,_ as Ce,r as V,t as te,v as he,w as ce,x as _e,y as $e,z as Be,C as Pe,D as xe,E as je,F as ye,G as be,H as ze,I as Se,N as me,J as ge,b as ke}from"./index-BSkGTUui.js";import{_ as de}from"./isNativeReflectConstruct-9pqpKM1A.js";function De(e){return!!(e.addonBefore||e.addonAfter)}function Me(e){return!!(e.prefix||e.suffix||e.allowClear)}function pe(e,t,o,n){if(o){var a=t;if(t.type==="click"){var v=e.cloneNode(!0);a=Object.create(t,{target:{value:v},currentTarget:{value:v}}),v.value="",o(a);return}if(e.type!=="file"&&n!==void 0){var d=e.cloneNode(!0);a=Object.create(t,{target:{value:d},currentTarget:{value:d}}),d.value=n,o(a);return}o(a)}}function Te(e,t){if(e){e.focus(t);var o=t||{},n=o.cursor;if(n){var a=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(a,a);break;default:e.setSelectionRange(0,a)}}}}var We=function(t){var o,n,a=t.inputElement,v=t.children,d=t.prefixCls,h=t.prefix,R=t.suffix,S=t.addonBefore,_=t.addonAfter,M=t.className,K=t.style,$=t.disabled,z=t.readOnly,X=t.focused,T=t.triggerFocus,w=t.allowClear,B=t.value,N=t.handleReset,P=t.hidden,C=t.classes,l=t.classNames,b=t.dataAttrs,i=t.styles,r=t.components,k=v??a,J=(r==null?void 0:r.affixWrapper)||"span",L=(r==null?void 0:r.groupWrapper)||"span",j=(r==null?void 0:r.wrapper)||"span",f=(r==null?void 0:r.groupAddon)||"span",E=g.useRef(null),U=function(H){var se;(se=E.current)!==null&&se!==void 0&&se.contains(H.target)&&(T==null||T())},A=Me(t),O=g.cloneElement(k,{value:B,className:y(k.props.className,!A&&(l==null?void 0:l.variant))||null});if(A){var F,u=null;if(w){var c,I=!$&&!z&&B,W="".concat(d,"-clear-icon"),re=Ce(w)==="object"&&w!==null&&w!==void 0&&w.clearIcon?w.clearIcon:"âœ–";u=m.createElement("span",{onClick:N,onMouseDown:function(H){return H.preventDefault()},className:y(W,(c={},V(c,"".concat(W,"-hidden"),!I),V(c,"".concat(W,"-has-suffix"),!!R),c)),role:"button",tabIndex:-1},re)}var p="".concat(d,"-affix-wrapper"),G=y(p,(F={},V(F,"".concat(d,"-disabled"),$),V(F,"".concat(p,"-disabled"),$),V(F,"".concat(p,"-focused"),X),V(F,"".concat(p,"-readonly"),z),V(F,"".concat(p,"-input-with-clear-btn"),R&&w&&B),F),C==null?void 0:C.affixWrapper,l==null?void 0:l.affixWrapper,l==null?void 0:l.variant),Y=(R||w)&&m.createElement("span",{className:y("".concat(d,"-suffix"),l==null?void 0:l.suffix),style:i==null?void 0:i.suffix},u,R);O=m.createElement(J,de({className:G,style:i==null?void 0:i.affixWrapper,onClick:U},b==null?void 0:b.affixWrapper,{ref:E}),h&&m.createElement("span",{className:y("".concat(d,"-prefix"),l==null?void 0:l.prefix),style:i==null?void 0:i.prefix},h),O,Y)}if(De(t)){var Z="".concat(d,"-group"),ee="".concat(Z,"-addon"),ne="".concat(Z,"-wrapper"),ae=y("".concat(d,"-wrapper"),Z,C==null?void 0:C.wrapper,l==null?void 0:l.wrapper),oe=y(ne,V({},"".concat(ne,"-disabled"),$),C==null?void 0:C.group,l==null?void 0:l.groupWrapper);O=m.createElement(L,{className:oe},m.createElement(j,{className:ae},S&&m.createElement(f,{className:ee},S),O,_&&m.createElement(f,{className:ee},_)))}return m.cloneElement(O,{className:y((o=O.props)===null||o===void 0?void 0:o.className,M)||null,style:te(te({},(n=O.props)===null||n===void 0?void 0:n.style),K),hidden:P})},Ve=["show"];function Ke(e,t){return g.useMemo(function(){var o={};t&&(o.show=Ce(t)==="object"&&t.formatter?t.formatter:!!t),o=te(te({},o),e);var n=o,a=n.show,v=he(n,Ve);return te(te({},v),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:v.strategy||function(d){return d.length}})},[e,t])}var Le=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Ge=g.forwardRef(function(e,t){var o=e.autoComplete,n=e.onChange,a=e.onFocus,v=e.onBlur,d=e.onPressEnter,h=e.onKeyDown,R=e.prefixCls,S=R===void 0?"rc-input":R,_=e.disabled,M=e.htmlSize,K=e.className,$=e.maxLength,z=e.suffix,X=e.showCount,T=e.count,w=e.type,B=w===void 0?"text":w,N=e.classes,P=e.classNames,C=e.styles,l=e.onCompositionStart,b=e.onCompositionEnd,i=he(e,Le),r=g.useState(!1),k=ce(r,2),J=k[0],L=k[1],j=g.useRef(!1),f=g.useRef(null),E=function(s){f.current&&Te(f.current,s)},U=_e(e.defaultValue,{value:e.value}),A=ce(U,2),O=A[0],F=A[1],u=O==null?"":String(O),c=g.useState(null),I=ce(c,2),W=I[0],re=I[1],p=Ke(T,X),G=p.max||$,Y=p.strategy(u),Z=!!G&&Y>G;g.useImperativeHandle(t,function(){return{focus:E,blur:function(){var s;(s=f.current)===null||s===void 0||s.blur()},setSelectionRange:function(s,q,le){var Q;(Q=f.current)===null||Q===void 0||Q.setSelectionRange(s,q,le)},select:function(){var s;(s=f.current)===null||s===void 0||s.select()},input:f.current}}),g.useEffect(function(){L(function(x){return x&&_?!1:x})},[_]);var ee=function(s,q,le){var Q=q;if(!j.current&&p.exceedFormatter&&p.max&&p.strategy(q)>p.max){if(Q=p.exceedFormatter(q,{max:p.max}),q!==Q){var ie,ue;re([((ie=f.current)===null||ie===void 0?void 0:ie.selectionStart)||0,((ue=f.current)===null||ue===void 0?void 0:ue.selectionEnd)||0])}}else if(le.source==="compositionEnd")return;F(Q),f.current&&pe(f.current,s,n,Q)};g.useEffect(function(){if(W){var x;(x=f.current)===null||x===void 0||x.setSelectionRange.apply(x,$e(W))}},[W]);var ne=function(s){ee(s,s.target.value,{source:"change"})},ae=function(s){j.current=!1,ee(s,s.currentTarget.value,{source:"compositionEnd"}),b==null||b(s)},oe=function(s){d&&s.key==="Enter"&&d(s),h==null||h(s)},D=function(s){L(!0),a==null||a(s)},H=function(s){L(!1),v==null||v(s)},se=function(s){F(""),E(),f.current&&pe(f.current,s,n)},we=Z&&"".concat(S,"-out-of-range"),Ee=function(){var s=Be(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return m.createElement("input",de({autoComplete:o},s,{onChange:ne,onFocus:D,onBlur:H,onKeyDown:oe,className:y(S,V({},"".concat(S,"-disabled"),_),P==null?void 0:P.input),style:C==null?void 0:C.input,ref:f,size:M,type:B,onCompositionStart:function(le){j.current=!0,l==null||l(le)},onCompositionEnd:ae}))},Ne=function(){var s=Number(G)>0;if(z||p.show){var q=p.showFormatter?p.showFormatter({value:u,count:Y,maxLength:G}):"".concat(Y).concat(s?" / ".concat(G):"");return m.createElement(m.Fragment,null,p.show&&m.createElement("span",{className:y("".concat(S,"-show-count-suffix"),V({},"".concat(S,"-show-count-has-suffix"),!!z),P==null?void 0:P.count),style:te({},C==null?void 0:C.count)},q),z)}return null};return m.createElement(We,de({},i,{prefixCls:S,className:y(K,we),handleReset:se,value:u,focused:J,triggerFocus:E,suffix:Ne(),disabled:_,classes:N,classNames:P,styles:C}),Ee())});function He(e,t){const o=g.useRef([]),n=()=>{o.current.push(setTimeout(()=>{var a,v,d,h;!((a=e.current)===null||a===void 0)&&a.input&&((v=e.current)===null||v===void 0?void 0:v.input.getAttribute("type"))==="password"&&(!((d=e.current)===null||d===void 0)&&d.input.hasAttribute("value"))&&((h=e.current)===null||h===void 0||h.input.removeAttribute("value"))}))};return g.useEffect(()=>(t&&n(),()=>o.current.forEach(a=>{a&&clearTimeout(a)})),[]),n}function qe(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}const Je=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:m.createElement(Pe,null)}),t};var Ue=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};function ot(e,t){if(!e)return;e.focus(t);const{cursor:o}=t||{};if(o){const n=e.value.length;switch(o){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n);break}}}const Qe=g.forwardRef((e,t)=>{var o;const{prefixCls:n,bordered:a=!0,status:v,size:d,disabled:h,onBlur:R,onFocus:S,suffix:_,allowClear:M,addonAfter:K,addonBefore:$,className:z,style:X,styles:T,rootClassName:w,onChange:B,classNames:N,variant:P}=e,C=Ue(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:l,direction:b,input:i}=m.useContext(xe),r=l("input",n),k=g.useRef(null),J=je(r),[L,j,f]=Oe(r,J),{compactSize:E,compactItemClassnames:U}=ye(r,b),A=be(D=>{var H;return(H=d??E)!==null&&H!==void 0?H:D}),O=m.useContext(ze),F=h??O,{status:u,hasFeedback:c,feedbackIcon:I}=g.useContext(Re),W=Fe(u,v),re=qe(e)||!!c;g.useRef(re);const p=He(k,!0),G=D=>{p(),R==null||R(D)},Y=D=>{p(),S==null||S(D)},Z=D=>{p(),B==null||B(D)},ee=(c||_)&&m.createElement(m.Fragment,null,_,c&&I),ne=Je(M),[ae,oe]=Ae(P,a);return L(m.createElement(Ge,Object.assign({ref:Se(t,k),prefixCls:r,autoComplete:i==null?void 0:i.autoComplete},C,{disabled:F,onBlur:G,onFocus:Y,style:Object.assign(Object.assign({},i==null?void 0:i.style),X),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),T),suffix:ee,allowClear:ne,className:y(z,w,f,J,U,i==null?void 0:i.className),onChange:Z,addonAfter:K&&m.createElement(me,null,m.createElement(fe,{override:!0,status:!0},K)),addonBefore:$&&m.createElement(me,null,m.createElement(fe,{override:!0,status:!0},$)),classNames:Object.assign(Object.assign(Object.assign({},N),i==null?void 0:i.classNames),{input:y({[`${r}-sm`]:A==="small",[`${r}-lg`]:A==="large",[`${r}-rtl`]:b==="rtl"},N==null?void 0:N.input,(o=i==null?void 0:i.classNames)===null||o===void 0?void 0:o.input,j),variant:y({[`${r}-${ae}`]:oe},ve(r,W)),affixWrapper:y({[`${r}-affix-wrapper-sm`]:A==="small",[`${r}-affix-wrapper-lg`]:A==="large",[`${r}-affix-wrapper-rtl`]:b==="rtl"},j),wrapper:y({[`${r}-group-rtl`]:b==="rtl"},j),groupWrapper:y({[`${r}-group-wrapper-sm`]:A==="small",[`${r}-group-wrapper-lg`]:A==="large",[`${r}-group-wrapper-rtl`]:b==="rtl",[`${r}-group-wrapper-${ae}`]:oe},ve(`${r}-group-wrapper`,W,c),j)})})))}),Xe=Qe;var Ye=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const Ze=g.forwardRef((e,t)=>{const{prefixCls:o,inputPrefixCls:n,className:a,size:v,suffix:d,enterButton:h=!1,addonAfter:R,loading:S,disabled:_,onSearch:M,onChange:K,onCompositionStart:$,onCompositionEnd:z}=e,X=Ye(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:T,direction:w}=g.useContext(xe),B=g.useRef(!1),N=T("input-search",o),P=T("input",n),{compactSize:C}=ye(N,w),l=be(u=>{var c;return(c=v??C)!==null&&c!==void 0?c:u}),b=g.useRef(null),i=u=>{u&&u.target&&u.type==="click"&&M&&M(u.target.value,u,{source:"clear"}),K&&K(u)},r=u=>{var c;document.activeElement===((c=b.current)===null||c===void 0?void 0:c.input)&&u.preventDefault()},k=u=>{var c,I;M&&M((I=(c=b.current)===null||c===void 0?void 0:c.input)===null||I===void 0?void 0:I.value,u,{source:"input"})},J=u=>{B.current||S||k(u)},L=typeof h=="boolean"?g.createElement(Ie,null):null,j=`${N}-button`;let f;const E=h||{},U=E.type&&E.type.__ANT_BUTTON===!0;U||E.type==="button"?f=ge(E,Object.assign({onMouseDown:r,onClick:u=>{var c,I;(I=(c=E==null?void 0:E.props)===null||c===void 0?void 0:c.onClick)===null||I===void 0||I.call(c,u),k(u)},key:"enterButton"},U?{className:j,size:l}:{})):f=g.createElement(ke,{className:j,type:h?"primary":void 0,size:l,disabled:_,key:"enterButton",onMouseDown:r,onClick:k,loading:S,icon:L},h),R&&(f=[f,ge(R,{key:"addonAfter"})]);const A=y(N,{[`${N}-rtl`]:w==="rtl",[`${N}-${l}`]:!!l,[`${N}-with-button`]:!!h},a),O=u=>{B.current=!0,$==null||$(u)},F=u=>{B.current=!1,z==null||z(u)};return g.createElement(Xe,Object.assign({ref:Se(b,t),onPressEnter:J},X,{size:l,onCompositionStart:O,onCompositionEnd:F,prefixCls:P,addonAfter:f,suffix:d,onChange:i,className:A,disabled:_}))}),rt=Ze;export{We as B,Xe as I,rt as S,Ke as a,pe as r,ot as t,He as u};
